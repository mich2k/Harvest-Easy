!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom"),require("@floating-ui/react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom","@floating-ui/react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIReactDOM={},e.React,e.ReactDOM,e.FloatingUIReactDOM)}(this,(function(e,t,n,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var u=o(t),c="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;let i=!1,l=0;const s=()=>"floating-ui-"+l++;const a=u["useId".toString()]||function(){const[e,t]=u.useState((()=>i?s():void 0));return c((()=>{null==e&&t(s())}),[]),u.useEffect((()=>{i||(i=!0)}),[]),e};function f(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}const d=u.createContext(null),m=u.createContext(null),p=()=>{var e;return(null==(e=u.useContext(d))?void 0:e.id)||null},v=()=>u.useContext(m);function g(e){return(null==e?void 0:e.ownerDocument)||document}function h(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function y(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function b(e){return g(e).defaultView||window}function w(e){return!!e&&e instanceof b(e).Element}function E(e){return!!e&&e instanceof b(e).HTMLElement}function R(e){if(0===e.mozInputSource&&e.isTrusted)return!0;const t=/Android/i;return(t.test(h())||t.test(y()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function x(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function I(){return/apple/i.test(navigator.vendor)}function T(){return h().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function k(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function S(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&(r=n,"undefined"!=typeof ShadowRoot&&(r instanceof b(r).ShadowRoot||r instanceof ShadowRoot))){let n=t;do{if(n&&e===n)return!0;n=n.parentNode||n.host}while(n)}var r;return!1}function O(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)}))||[],r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))}))||[],n=n.concat(r);return n}function C(e){return"composedPath"in e?e.composedPath()[0]:e.target}const M="http://www.w3.org/2000/svg";function A(e){e.current&&(e.current.remove(),e.current=null)}function L(e){const n=t.useRef(e);return c((()=>{n.current=e})),n}function P(e,t,n){return n&&!k(n)?0:"number"==typeof e?e:null==e?void 0:e[t]}const D=u.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{}}),F=()=>u.useContext(D);function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var j=new WeakMap,K=new WeakMap,H={},B=0,V=function(e,t,n){void 0===t&&(t=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];H[n]||(H[n]=new WeakMap);var o=H[n],u=[],c=new Set,i=function(e){e&&!c.has(e)&&(c.add(e),i(e.parentNode))};r.forEach(i);var l=function(e){!e||r.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(c.has(e))l(e);else{var t=e.getAttribute("aria-hidden"),r=null!==t&&"false"!==t,i=(j.get(e)||0)+1,s=(o.get(e)||0)+1;j.set(e,i),o.set(e,s),u.push(e),1===i&&r&&K.set(e,!0),1===s&&e.setAttribute(n,"true"),r||e.setAttribute("aria-hidden","true")}}))};return l(t),c.clear(),B++,function(){u.forEach((function(e){var t=j.get(e)-1,r=o.get(e)-1;j.set(e,t),o.set(e,r),t||(K.has(e)||e.removeAttribute("aria-hidden"),K.delete(e)),r||e.removeAttribute(n)})),--B||(j=new WeakMap,j=new WeakMap,K=new WeakMap,H={})}},W=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),q="undefined"==typeof Element,U=q?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,z=!q&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},X=function e(t,n,r){for(var o=[],u=Array.from(t);u.length;){var c=u.shift();if("SLOT"===c.tagName){var i=c.assignedElements(),l=e(i.length?i:c.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:c,candidates:l})}else{U.call(c,W)&&r.filter(c)&&(n||!t.includes(c))&&o.push(c);var s=c.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(c),a=!r.shadowRootFilter||r.shadowRootFilter(c);if(s&&a){var f=e(!0===s?c.children:s.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:c,candidates:f})}else u.unshift.apply(u,c.children)}}return o},Y=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},_=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},G=function(e){return"INPUT"===e.tagName},Z=function(e){return function(e){return G(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||z(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var o=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!o||o===e}(e)},$=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},J=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var o=U.call(e,"details>summary:first-of-type")?e.parentElement:e;if(U.call(o,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return $(e)}else{if("function"==typeof r){for(var u=e;e;){var c=e.parentElement,i=z(e);if(c&&!c.shadowRoot&&!0===r(c))return $(e);e=e.assignedSlot?e.assignedSlot:c||i===e.ownerDocument?c:i.host}e=u}if(function(e){for(var t,n=z(e).host,r=!!(null!==(t=n)&&void 0!==t&&t.ownerDocument.contains(n)||e.ownerDocument.contains(e));!r&&n;){var o;r=!(null===(o=n=z(n).host)||void 0===o||!o.ownerDocument.contains(n))}return r}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},Q=function(e,t){return!(t.disabled||function(e){return G(e)&&"hidden"===e.type}(t)||J(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!U.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},ee=function(e,t){return!(Z(t)||Y(t)<0||!Q(e,t))},te=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ne=function e(t){var n=[],r=[];return t.forEach((function(t,o){var u=!!t.scopeParent,c=u?t.scopeParent:t,i=Y(c,u),l=u?e(t.candidates):c;0===i?u?n.push.apply(n,l):n.push(c):r.push({documentOrder:o,tabIndex:i,item:t,isScope:u,content:l})})),r.sort(_).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},re=function(e,t){var n;return n=(t=t||{}).getShadowRoot?X([e],t.includeContainer,{filter:ee.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:te}):function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(W));return t&&U.call(e,W)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,ee.bind(null,t)),ne(n)};function oe(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}let ue=0;function ce(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(ue);const u=()=>null==e?void 0:e.focus({preventScroll:n});o?u():ue=requestAnimationFrame(u)}function ie(e){return E(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function le(e){e.preventDefault(),e.stopPropagation()}const se=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ae(e,t){const n=re(e,se());"prev"===t&&n.reverse();const r=n.indexOf(oe(g(e)));return n.slice(r+1)[0]}function fe(){return ae(document.body,"next")}function de(){return ae(document.body,"prev")}function me(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!S(n,r)}function pe(e){re(e,se()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function ve(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const ge=u["useInsertionEffect".toString()]||(e=>e());function he(e){const t=u.useRef((()=>{}));return ge((()=>{t.current=e})),u.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}const ye={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let be,we;function Ee(e){"Tab"===e.key&&(be=e.target,clearTimeout(we))}const Re=u.forwardRef((function(e,t){const n=he(e.onFocus),[r,o]=u.useState();return c((()=>(I()&&o("button"),document.addEventListener("keydown",Ee),()=>{document.removeEventListener("keydown",Ee)})),[]),u.createElement("span",N({},e,{ref:t,tabIndex:0,role:r,"aria-hidden":!r||void 0,"data-floating-ui-focus-guard":"",style:ye,onFocus:e=>{I()&&T()&&!function(e){const t=be===e.relatedTarget;return be=e.relatedTarget,clearTimeout(we),t}(e)?(e.persist(),we=window.setTimeout((()=>{n(e)}),50)):n(e)}}))})),xe=u.createContext(null),Ie=function(e){let{id:t,enabled:n=!0}=void 0===e?{}:e;const[r,o]=u.useState(null),i=a(),l=Te();return c((()=>{if(!n)return;const e=t?document.getElementById(t):null;if(!e){const e=document.createElement("div");e.id=t||i,e.setAttribute("data-floating-ui-portal",""),o(e);const n=(null==l?void 0:l.portalNode)||document.body;return n.appendChild(e),()=>{n.removeChild(e)}}e.setAttribute("data-floating-ui-portal",""),o(e)}),[t,l,i,n]),r},Te=()=>u.useContext(xe),ke=u.forwardRef((function(e,t){return u.createElement("button",N({},e,{ref:t,tabIndex:-1,style:ye}))}));const Se="data-floating-ui-scroll-lock",Oe=u.forwardRef((function(e,t){let{lockScroll:n=!1,...r}=e;return c((()=>{var e,t;if(!n)return;if(document.body.hasAttribute(Se))return;document.body.setAttribute(Se,"");const r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(h()))return Object.assign(document.body.style,{overflow:"hidden",[r]:o+"px"}),()=>{document.body.removeAttribute(Se),Object.assign(document.body.style,{overflow:"",[r]:""})};const u=(null==(e=window.visualViewport)?void 0:e.offsetLeft)||0,c=(null==(t=window.visualViewport)?void 0:t.offsetTop)||0,i=window.pageXOffset,l=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(l-Math.floor(c))+"px",left:-(i-Math.floor(u))+"px",right:"0",[r]:o+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[r]:""}),document.body.removeAttribute(Se),window.scrollTo(i,l)}}),[n]),u.createElement("div",N({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))}));function Ce(e){return E(e.target)&&"BUTTON"===e.target.tagName}function Me(e){return ie(e)}function Ae(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}const Le={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Pe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"};let De=!1;const Fe="ArrowUp",Ne="ArrowDown",je="ArrowLeft",Ke="ArrowRight";function He(e,t,n){return Math.floor(e/t)!==n}function Be(e,t){return t<0||t>=e.current.length}function Ve(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:u=1}=void 0===t?{}:t;const c=e.current;let i=n;do{var l,s;i+=r?-u:u}while(i>=0&&i<=c.length-1&&(o?o.includes(i):null==c[i]||(null==(l=c[i])?void 0:l.hasAttribute("disabled"))||"true"===(null==(s=c[i])?void 0:s.getAttribute("aria-disabled"))));return i}function We(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function qe(e,t){return We(t,e===Fe||e===Ne,e===je||e===Ke)}function Ue(e,t,n){return We(t,e===Ne,n?e===je:e===Ke)||"Enter"===e||" "==e||""===e}function ze(e,t){return Ve(e,{disabledIndices:t})}function Xe(e,t){return Ve(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}const Ye=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,((e,t)=>(t?"-":"")+e.toLowerCase()));function _e(e,t){let{open:n,refs:r}=e,{duration:o=250}=void 0===t?{}:t;const i=("number"==typeof o?o:o.close)||0,[l,s]=u.useState(!1),[a,f]=u.useState("unmounted"),d=function(e,t){const[n,r]=u.useState(e);return e&&!n&&r(!0),u.useEffect((()=>{if(!e){const e=setTimeout((()=>r(!1)),t);return()=>clearTimeout(e)}}),[e,t]),n}(n,i);return l&&!d&&"unmounted"!==a&&f("unmounted"),c((()=>{if(r.floating.current){if(n){f("initial");const e=requestAnimationFrame((()=>{f("open")}));return()=>{cancelAnimationFrame(e)}}s(!0),f("close")}}),[n,r]),{isMounted:d,status:a}}function Ge(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}function Ze(e,t,n){const r=new Map;return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var u;0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof o&&(null==(u=r.get(n))||u.push(o),e[n]=function(){for(var e,t=arguments.length,o=new Array(t),u=0;u<t;u++)o[u]=arguments[u];null==(e=r.get(n))||e.forEach((e=>e(...o)))})):e[n]=o})),e):e),{})}}e.FloatingDelayGroup=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[o,c]=u.useState({delay:n,timeoutMs:r,initialDelay:n,currentId:null}),i=u.useCallback((e=>{c((t=>({...t,currentId:e})))}),[]);return u.createElement(D.Provider,{value:u.useMemo((()=>({...o,setState:c,setCurrentId:i})),[o,c,i])},t)},e.FloatingFocusManager=function(e){let{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:l=!0,modal:s=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:f=!0}=e;const{refs:d,nodeId:m,onOpenChange:p,events:h,_:{domReference:y}}=t,b=L(r),w=v(),R=Te(),[x,I]=u.useState(null),T="number"==typeof i&&i<0,k=u.useRef(null),M=u.useRef(null),A=u.useRef(!1),P=u.useRef(null),D=null!=R,F=y&&"combobox"===y.getAttribute("role")&&ie(y),N=u.useCallback((function(e){return void 0===e&&(e=d.floating.current),e?re(e,se()):[]}),[d]),j=u.useCallback((e=>{const t=N(e);return b.current.map((e=>d.domReference.current&&"reference"===e?d.domReference.current:d.floating.current&&"floating"===e?d.floating.current:t)).filter(Boolean).flat()}),[b,d,N]);u.useEffect((()=>{if(!s)return;function e(e){if("Tab"===e.key){0!==N().length||F||le(e);const t=j(),n=C(e);"reference"===b.current[0]&&n===d.domReference.current&&(le(e),e.shiftKey?ce(t[t.length-1]):ce(t[1])),"floating"===b.current[1]&&n===d.floating.current&&e.shiftKey&&(le(e),ce(t[0]))}}const t=g(d.floating.current);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[s,b,d,F,N,j]),u.useEffect((()=>{if(!f)return;const e=d.floating.current,t=d.domReference.current;let n=!1;function r(){n=!0,setTimeout((()=>{n=!1}))}function o(r){const o=r.relatedTarget,u=!(S(t,o)||S(e,o)||S(o,e)||S(null==R?void 0:R.portalNode,o)||null!=o&&o.hasAttribute("data-floating-ui-focus-guard")||w&&(O(w.nodesRef.current,m).find((e=>{var t,n;return S(null==(t=e.context)?void 0:t.refs.floating.current,o)||S(null==(n=e.context)?void 0:n.refs.domReference.current,o)}))||function(e,t){var n;let r=[],o=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;o;){const t=e.find((e=>e.id===o));o=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(w.nodesRef.current,m).find((e=>{var t,n;return(null==(t=e.context)?void 0:t.refs.floating.current)===o||(null==(n=e.context)?void 0:n.refs.domReference.current)===o}))));o&&u&&!n&&o!==P.current&&(A.current=!0,setTimeout((()=>p(!1))))}return e&&E(t)?(t.addEventListener("focusout",o),t.addEventListener("pointerdown",r),!s&&e.addEventListener("focusout",o),()=>{t.removeEventListener("focusout",o),t.removeEventListener("pointerdown",r),!s&&e.removeEventListener("focusout",o)}):void 0}),[s,m,w,d,R,p,f]),u.useEffect((()=>{var e;const t=d.floating.current,n=d.domReference.current,r=Array.from((null==R||null==(e=R.portalNode)?void 0:e.querySelectorAll("[data-floating-ui-portal]"))||[]);if(t&&E(n)&&s){const e=[t,...r,...[k.current,M.current].filter(Boolean)],o=V(b.current.includes("reference")||F?e.concat(n):e);return()=>{o()}}}),[s,b,R,d,F]),u.useEffect((()=>{const e=d.floating.current;if(s&&!o&&e){const t=[],n=se(),r=re(g(e).body,n),o=j(),u=r.filter((e=>!o.includes(e)));return u.forEach(((e,n)=>{t[n]=e.getAttribute("tabindex"),e.setAttribute("tabindex","-1")})),()=>{u.forEach(((e,n)=>{const r=t[n];null==r?e.removeAttribute("tabindex"):e.setAttribute("tabindex",r)}))}}}),[s,o,d,j]),c((()=>{const e=d.floating.current;if(!e)return;const t=g(e);let n=l,r=!1;const o=oe(t);P.current=o;const u=j(e),c=("number"==typeof i?u[i]:i.current)||e;function s(e){if("escapeKey"===e.type&&d.domReference.current&&(P.current=d.domReference.current),["referencePress","escapeKey"].includes(e.type))return;const t=e.data.returnFocus;"object"==typeof t?(n=!0,r=t.preventScroll):n=t}return!T&&ce(c,{preventScroll:c===e}),h.on("dismiss",s),()=>{var o;(h.off("dismiss",s),S(e,oe(t))&&d.domReference.current&&(P.current=d.domReference.current),n&&E(P.current)&&!A.current)&&(d.domReference.current?null==(o=P.current)||o.focus({preventScroll:r}):ce(P.current,{cancelPrevious:!1,preventScroll:r}))}}),[j,i,l,d,h,T]),c((()=>{if(R)return R.setFocusManagerState({...t,modal:s}),()=>{R.setFocusManagerState(null)}}),[R,s,t]),c((()=>{const e=d.floating.current;if(!T&&e&&(t(),"function"==typeof MutationObserver)){const n=new MutationObserver(t);return n.observe(e,{childList:!0,subtree:!0}),()=>{n.disconnect()}}function t(){I(N().length)}}),[N,T,d]);const K=o&&(D||s)&&!F;function H(e){return a&&s?u.createElement(ke,{ref:"start"===e?k:M,onClick:()=>p(!1)},"string"==typeof a?a:"Dismiss"):null}return u.createElement(u.Fragment,null,K&&u.createElement(Re,{ref:null==R?void 0:R.beforeInsideRef,onFocus:e=>{if(s){const e=j();ce("reference"===r[0]?e[0]:e[e.length-1])}else if(null!=R&&R.preserveTabOrder&&R.portalNode)if(A.current=!1,me(e,R.portalNode)){const e=fe()||y;null==e||e.focus()}else{var t;null==(t=R.beforeOutsideRef.current)||t.focus()}}}),F?null:H("start"),u.cloneElement(n,0===x||r.includes("floating")?{tabIndex:0}:{}),H("end"),K&&u.createElement(Re,{ref:null==R?void 0:R.afterInsideRef,onFocus:e=>{if(s)ce(j()[0]);else if(null!=R&&R.preserveTabOrder&&R.portalNode)if(A.current=!0,me(e,R.portalNode)){const e=de()||y;null==e||e.focus()}else{var t;null==(t=R.afterOutsideRef.current)||t.focus()}}}))},e.FloatingNode=e=>{let{children:t,id:n}=e;const r=p();return u.createElement(d.Provider,{value:u.useMemo((()=>({id:n,parentId:r})),[n,r])},t)},e.FloatingOverlay=Oe,e.FloatingPortal=e=>{let{children:t,id:r,root:o=null,preserveTabOrder:c=!0}=e;const i=Ie({id:r,enabled:!o}),[l,s]=u.useState(null),a=u.useRef(null),f=u.useRef(null),d=u.useRef(null),m=u.useRef(null),p=!!l&&!l.modal&&!(!o&&!i)&&c;return u.useEffect((()=>{if(i&&c&&(null==l||!l.modal))return i.addEventListener("focusin",e,!0),i.addEventListener("focusout",e,!0),()=>{i.removeEventListener("focusin",e,!0),i.removeEventListener("focusout",e,!0)};function e(e){if(i&&me(e)){("focusin"===e.type?ve:pe)(i)}}}),[i,c,null==l?void 0:l.modal]),u.createElement(xe.Provider,{value:u.useMemo((()=>({preserveTabOrder:c,beforeOutsideRef:a,afterOutsideRef:f,beforeInsideRef:d,afterInsideRef:m,portalNode:i,setFocusManagerState:s})),[c,i])},p&&i&&u.createElement(Re,{ref:a,onFocus:e=>{if(me(e,i)){var t;null==(t=d.current)||t.focus()}else{const e=de()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),p&&i&&u.createElement("span",{"aria-owns":i.id,style:ye}),o?n.createPortal(t,o):i?n.createPortal(t,i):null,p&&i&&u.createElement(Re,{ref:f,onFocus:e=>{if(me(e,i)){var t;null==(t=m.current)||t.focus()}else{const e=fe()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus(),null==l||l.onOpenChange(!1)}}}))},e.FloatingTree=e=>{let{children:t}=e;const n=u.useRef([]),r=u.useCallback((e=>{n.current=[...n.current,e]}),[]),o=u.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),c=u.useState((()=>f()))[0];return u.createElement(m.Provider,{value:u.useMemo((()=>({nodesRef:n,addNode:r,removeNode:o,events:c})),[n,r,o,c])},t)},e.inner=e=>({name:"inner",options:e,async fn(t){const{listRef:o,overflowRef:u,onFallbackChange:c,offset:i=0,index:l=0,minItemsVisible:s=4,referenceOverflowThreshold:a=0,scrollRef:f,...d}=e,{rects:m,elements:{floating:p}}=t,v=o.current[l];if(!v)return{};const g={...t,...await r.offset(-v.offsetTop-m.reference.height/2-v.offsetHeight/2-i).fn(t)},h=(null==f?void 0:f.current)||p,y=await r.detectOverflow(Ge(g,h.scrollHeight),d),b=await r.detectOverflow(g,{...d,elementContext:"reference"}),w=Math.max(0,y.top),E=g.y+w,R=Math.max(0,h.scrollHeight-w-Math.max(0,y.bottom));return h.style.maxHeight=R+"px",h.scrollTop=w,c&&(h.offsetHeight<v.offsetHeight*Math.min(s,o.current.length-1)-1||b.top>=-a||b.bottom>=-a?n.flushSync((()=>c(!0))):n.flushSync((()=>c(!1)))),u&&(u.current=await r.detectOverflow(Ge({...g,y:E},h.offsetHeight),d)),{y:E}}}),e.safePolygon=function(e){let t,{restMs:n=0,buffer:r=.5,blockPointerEvents:o=!0}=void 0===e?{}:e,u=!1,c=!1;return e=>{let{x:i,y:l,placement:s,refs:a,onClose:f,nodeId:d,tree:m,polygonRef:p}=e;return function(e){var v;function h(){A(p),clearTimeout(t),f()}if(clearTimeout(t),!a.domReference.current||!a.floating.current||null==s||null==i||null==l)return;const{clientX:y,clientY:b}=e,E=C(e),R="mouseleave"===e.type,x=S(a.domReference.current,E),T=S(a.floating.current,E);if(!R&&x)return void A(p);if(!R&&(x||u&&S(p.current,E)))return;if(R&&w(e.relatedTarget)&&S(a.floating.current,e.relatedTarget))return;if(m&&O(m.nodesRef.current,d).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if(T&&(c=!0),T&&!R&&"rect"!==(null==(v=p.current)?void 0:v.dataset.type))return void A(p);const k=a.domReference.current.getBoundingClientRect(),L=a.floating.current.getBoundingClientRect(),P=s.split("-")[0],D=i>L.right-L.width/2,F=l>L.bottom-L.height/2;if("top"===P&&l>=k.bottom-1||"bottom"===P&&l<=k.top+1||"left"===P&&i>=k.right-1||"right"===P&&i<=k.left+1)return h();let N=[];switch(P){case"top":N=[[L.left,k.top+1],[L.left,L.bottom-1],[L.right,L.bottom-1],[L.right,k.top+1]],u=y>=L.left&&y<=L.right&&b>=L.top&&b<=k.top+1;break;case"bottom":N=[[L.left,L.top+1],[L.left,k.bottom-1],[L.right,k.bottom-1],[L.right,L.top+1]],u=y>=L.left&&y<=L.right&&b>=k.bottom-1&&b<=L.bottom;break;case"left":N=[[L.right-1,L.bottom],[L.right-1,L.top],[k.left+1,L.top],[k.left+1,L.bottom]],u=y>=L.left&&y<=k.left+1&&b>=L.top&&b<=L.bottom;break;case"right":N=[[k.right-1,L.bottom],[k.right-1,L.top],[L.left+1,L.top],[L.left+1,L.bottom]],u=y>=k.right-1&&y<=L.right&&b>=L.top&&b<=L.bottom}const j=u?N:function(e){let[t,n]=e;const o=L.width>k.width,u=L.height>k.height;switch(P){case"top":return[[o?t+r/2:D?t+4*r:t-4*r,n+r+1],[o?t-r/2:D?t+4*r:t-4*r,n+r+1],...[[L.left,D||o?L.bottom-r:L.top],[L.right,D?o?L.bottom-r:L.top:L.bottom-r]]];case"bottom":return[[o?t+r/2:D?t+4*r:t-4*r,n-r],[o?t-r/2:D?t+4*r:t-4*r,n-r],...[[L.left,D||o?L.top+r:L.bottom],[L.right,D?o?L.top+r:L.bottom:L.top+r]]];case"left":{const e=[t+r+1,u?n+r/2:F?n+4*r:n-4*r],o=[t+r+1,u?n-r/2:F?n+4*r:n-4*r];return[...[[F||u?L.right-r:L.left,L.top],[F?u?L.right-r:L.left:L.right-r,L.bottom]],e,o]}case"right":return[[t-r,u?n+r/2:F?n+4*r:n-4*r],[t-r,u?n-r/2:F?n+4*r:n-4*r],...[[F||u?L.left+r:L.right,L.top],[F?u?L.left+r:L.right:L.left+r,L.bottom]]]}}([i,l]);if(!p.current&&o&&R){const e=g(a.floating.current);p.current=function(e,t,n){var r,o;const u=I(),c=t.defaultView||window,i=t.createElementNS(M,"svg");Object.assign(i.style,{position:"fixed",left:(u&&(null==(r=c.visualViewport)?void 0:r.offsetLeft)||0)+"px",top:(u&&(null==(o=c.visualViewport)?void 0:o.offsetTop)||0)+"px",width:"100%",height:"100%",pointerEvents:"none",zIndex:2147483647}),i.setAttribute("data-type",n?"rect":"triangle");const l=t.createElementNS(M,"polygon");return l.setAttribute("points",e.map((e=>{let[t,n]=e;return t+","+n})).join(" ")),Object.assign(l.style,{pointerEvents:"auto",fill:"transparent",opacity:0}),i.appendChild(l),i}(j,e,u),e.body.appendChild(p.current)}u||(!function(e,t){const[n,r]=e;let o=!1;const u=t.length;for(let e=0,c=u-1;e<u;c=e++){const[u,i]=t[e]||[0,0],[l,s]=t[c]||[0,0];i>=r!=s>=r&&n<=(l-u)*(r-i)/(s-i)+u&&(o=!o)}return o}([y,b],j)?h():n&&!c&&(t=setTimeout(f,n)))}}},e.useClick=function(e,t){let{open:n,onOpenChange:r,dataRef:o,refs:c}=e,{enabled:i=!0,event:l="click",toggle:s=!0,ignoreMouse:a=!1,keyboardHandlers:f=!0}=void 0===t?{}:t;const d=u.useRef();return u.useMemo((()=>i?{reference:{onPointerDown(e){d.current=e.pointerType},onMouseDown(e){0===e.button&&(k(d.current,!0)&&a||"click"!==l&&(n?!s||o.current.openEvent&&"mousedown"!==o.current.openEvent.type||r(!1):(e.preventDefault(),r(!0)),o.current.openEvent=e.nativeEvent))},onClick(e){"mousedown"===l&&d.current?d.current=void 0:k(d.current,!0)&&a||(n?!s||o.current.openEvent&&"click"!==o.current.openEvent.type||r(!1):r(!0),o.current.openEvent=e.nativeEvent)},onKeyDown(e){d.current=void 0,f&&(Ce(e)||(" "!==e.key||Me(c.domReference.current)||e.preventDefault(),"Enter"===e.key&&(n?s&&r(!1):r(!0))))},onKeyUp(e){f&&(Ce(e)||Me(c.domReference.current)||" "===e.key&&(n?s&&r(!1):r(!0)))}}}:{}),[i,o,l,a,f,c,s,n,r])},e.useDelayGroup=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:c,initialDelay:i,setState:l,timeoutMs:s}=F(),a=u.useRef();u.useEffect((()=>{c&&(clearTimeout(a.current),l((e=>({...e,delay:{open:1,close:P(i,"close")}}))),c!==o&&r(!1))}),[o,r,l,c,i]),u.useEffect((()=>{function e(){r(!1),l((e=>({...e,delay:i,currentId:null})))}clearTimeout(a.current),n||c!==o||(s?a.current=window.setTimeout(e,s):e())}),[n,l,c,o,r,i,s]),u.useEffect((()=>()=>{clearTimeout(a.current)}),[])},e.useDelayGroupContext=F,e.useDismiss=function(e,t){let{open:n,onOpenChange:o,refs:c,events:i,nodeId:l}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:m=!1,referencePressEvent:h="pointerdown",ancestorScroll:y=!1,bubbles:b=!0}=void 0===t?{}:t;const E=v(),I=null!=p(),T=he("function"==typeof f?f:()=>!1),k="function"==typeof f?T:f,S=u.useRef(!1),{escapeKeyBubbles:M,outsidePressBubbles:A}=function(e){var t,n;return void 0===e&&(e=!0),{escapeKeyBubbles:"boolean"==typeof e?e:null==(t=e.escapeKey)||t,outsidePressBubbles:"boolean"==typeof e?e:null==(n=e.outsidePress)||n}}(b);return u.useEffect((()=>{if(!n||!s)return;function e(e){if("Escape"===e.key){if(!M&&E&&O(E.nodesRef.current,l).length>0)return;i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),o(!1)}}function t(e){const t=S.current;if(S.current=!1,t)return;if("function"==typeof k&&!k(e))return;const n=C(e);if(w(n)&&c.floating.current){const t=c.floating.current.ownerDocument.defaultView||window,r=n.scrollWidth>n.clientWidth,o=n.scrollHeight>n.clientHeight;let u=o&&e.offsetX>n.clientWidth;if(o){"rtl"===t.getComputedStyle(n).direction&&(u=e.offsetX<=n.offsetWidth-n.clientWidth)}if(u||r&&e.offsetY>n.clientHeight)return}const r=E&&O(E.nodesRef.current,l).some((t=>{var n;return Ae(e,null==(n=t.context)?void 0:n.refs.floating.current)}));Ae(e,c.floating.current)||Ae(e,c.domReference.current)||r||!A&&E&&O(E.nodesRef.current,l).length>0||(i.emit("dismiss",{type:"outsidePress",data:{returnFocus:I?{preventScroll:!0}:R(e)||x(e)}}),o(!1))}function u(){o(!1)}const f=g(c.floating.current);a&&f.addEventListener("keydown",e),k&&f.addEventListener(d,t);let m=[];return y&&(w(c.domReference.current)&&(m=r.getOverflowAncestors(c.domReference.current)),w(c.floating.current)&&(m=m.concat(r.getOverflowAncestors(c.floating.current))),!w(c.reference.current)&&c.reference.current&&c.reference.current.contextElement&&(m=m.concat(r.getOverflowAncestors(c.reference.current.contextElement)))),m=m.filter((e=>{var t;return e!==(null==(t=f.defaultView)?void 0:t.visualViewport)})),m.forEach((e=>{e.addEventListener("scroll",u,{passive:!0})})),()=>{a&&f.removeEventListener("keydown",e),k&&f.removeEventListener(d,t),m.forEach((e=>{e.removeEventListener("scroll",u)}))}}),[a,k,d,i,E,l,n,o,y,s,M,A,c,I]),u.useEffect((()=>{S.current=!1}),[k,d]),u.useMemo((()=>s?{reference:{[Le[h]]:()=>{m&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),o(!1))}},floating:{[Pe[d]]:()=>{S.current=!0}}}:{}),[s,i,m,d,h,o])},e.useFloating=function(e){let{open:t=!1,onOpenChange:n,whileElementsMounted:o,placement:i,middleware:l,strategy:s,nodeId:a}=void 0===e?{}:e;const[d,m]=u.useState(null),p=v(),g=u.useRef(null),h=u.useRef({}),y=u.useState((()=>f()))[0],b=r.useFloating({open:t,placement:i,middleware:l,strategy:s,whileElementsMounted:o}),E=he(n),R=u.useMemo((()=>({...b.refs,domReference:g})),[b.refs]),x=u.useMemo((()=>({...b,refs:R,dataRef:h,nodeId:a,events:y,open:t,onOpenChange:E,_:{domReference:d}})),[b,a,y,t,E,R,d]);c((()=>{const e=null==p?void 0:p.nodesRef.current.find((e=>e.id===a));e&&(e.context=x)}));const{reference:I}=b,T=u.useCallback((e=>{(w(e)||null===e)&&(R.domReference.current=e,m(e)),(w(R.reference.current)||null===R.reference.current||null!==e&&!w(e))&&I(e)}),[I,R]),k=u.useCallback((e=>{const t=w(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;I(t)}),[I]);return u.useMemo((()=>({...b,context:x,refs:R,reference:T,positionReference:k})),[b,R,x,T,k])},e.useFloatingNodeId=e=>{const t=a(),n=v(),r=p(),o=e||r;return c((()=>{const e={id:t,parentId:o};return null==n||n.addNode(e),()=>{null==n||n.removeNode(e)}}),[n,t,o]),t},e.useFloatingParentNodeId=p,e.useFloatingPortalNode=Ie,e.useFloatingTree=v,e.useFocus=function(e,t){let{open:n,onOpenChange:r,dataRef:o,refs:c,events:i}=e,{enabled:l=!0,keyboardOnly:s=!0}=void 0===t?{}:t;const a=u.useRef(""),f=u.useRef(!1),d=u.useRef();return u.useEffect((()=>{if(!l)return;const e=g(c.floating.current).defaultView||window;function t(){!n&&E(c.domReference.current)&&c.domReference.current===oe(g(c.domReference.current))&&(f.current=!0)}return e.addEventListener("blur",t),()=>{e.removeEventListener("blur",t)}}),[c,n,l]),u.useEffect((()=>{if(l)return i.on("dismiss",e),()=>{i.off("dismiss",e)};function e(e){"referencePress"!==e.type&&"escapeKey"!==e.type||(f.current=!0)}}),[i,l]),u.useEffect((()=>()=>{clearTimeout(d.current)}),[]),u.useMemo((()=>l?{reference:{onPointerDown(e){let{pointerType:t}=e;a.current=t,f.current=!(!t||!s)},onMouseLeave(){f.current=!1},onFocus(e){var t;f.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&o.current.openEvent&&Ae(o.current.openEvent,c.domReference.current)||(o.current.openEvent=e.nativeEvent,r(!0))},onBlur(e){f.current=!1;const t=e.relatedTarget,n=w(t)&&t.hasAttribute("data-floating-ui-focus-guard");d.current=setTimeout((()=>{S(c.floating.current,t)||S(c.domReference.current,t)||n||r(!1)}))}}}:{}),[l,s,c,o,r])},e.useHover=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:l=0,move:s=!0}=void 0===t?{}:t;const{open:a,onOpenChange:f,dataRef:d,events:m,refs:p,_:h}=e,y=v(),b=L(o),E=L(r),R=u.useRef(),x=u.useRef(),I=u.useRef(),T=u.useRef(),S=u.useRef(!0),O=u.useRef(null),C=u.useCallback((()=>{var e;const t=null==(e=d.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t}),[d]);u.useEffect((()=>{if(n)return m.on("dismiss",e),()=>{m.off("dismiss",e)};function e(){clearTimeout(x.current),clearTimeout(T.current),S.current=!0}}),[n,m,p]),u.useEffect((()=>{if(!n||!b.current||!a)return;function e(){C()&&f(!1)}const t=g(p.floating.current).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[p,a,f,n,b,d,C]);const M=u.useCallback((function(e){void 0===e&&(e=!0);const t=P(E.current,"close",R.current);t&&!I.current?(clearTimeout(x.current),x.current=setTimeout((()=>f(!1)),t)):e&&(clearTimeout(x.current),f(!1))}),[E,f]),D=u.useCallback((()=>{I.current&&(g(p.floating.current).removeEventListener("mousemove",I.current),I.current=void 0)}),[p]);return u.useEffect((()=>{if(!n)return;function t(){return!!d.current.openEvent&&["click","mousedown"].includes(d.current.openEvent.type)}function r(e){if(clearTimeout(x.current),S.current=!1,i&&!k(R.current)||l>0&&0===P(E.current,"open"))return;d.current.openEvent=e;const t=P(E.current,"open",R.current);t?x.current=setTimeout((()=>{f(!0)}),t):f(!0)}function o(n){if(t())return;const r=g(p.floating.current);if(clearTimeout(T.current),b.current)return clearTimeout(x.current),I.current&&r.removeEventListener("mousemove",I.current),I.current=b.current({...e,tree:y,polygonRef:O,x:n.clientX,y:n.clientY,onClose(){D(),M()}}),void r.addEventListener("mousemove",I.current);M()}function u(n){t()||null==b.current||b.current({...e,tree:y,polygonRef:O,x:n.clientX,y:n.clientY,onClose(){D(),M()}})(n)}const c=p.floating.current,m=p.domReference.current;return w(m)?(a&&m.addEventListener("mouseleave",u),null==c||c.addEventListener("mouseleave",u),s&&m.addEventListener("mousemove",r,{once:!0}),m.addEventListener("mouseenter",r),m.addEventListener("mouseleave",o),()=>{a&&m.removeEventListener("mouseleave",u),null==c||c.removeEventListener("mouseleave",u),s&&m.removeEventListener("mousemove",r),m.removeEventListener("mouseenter",r),m.removeEventListener("mouseleave",o)}):void 0}),[h.domReference,n,e,i,l,s,M,D,f,a,y,p,E,b,d]),c((()=>{a||(R.current=void 0,D(),A(O))}),[a,D]),u.useEffect((()=>()=>{D(),clearTimeout(x.current),clearTimeout(T.current),A(O)}),[n,D]),u.useMemo((()=>{if(!n)return{};function e(e){R.current=e.pointerType}return{reference:{onPointerDown:e,onPointerEnter:e,onMouseMove(){a||0===l||(clearTimeout(T.current),T.current=setTimeout((()=>{S.current||f(!0)}),l))}},floating:{onMouseEnter(){clearTimeout(x.current)},onMouseLeave(){m.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),M(!1)}}}}),[m,n,l,a,f,M])},e.useId=a,e.useInnerOffset=(e,t)=>{let{open:r,refs:o}=e,{enabled:c=!0,overflowRef:i,scrollRef:l,onChange:s}=t;const a=he(s),f=u.useRef(!1),d=u.useRef(null),m=u.useRef(null);return u.useEffect((()=>{if(!c)return;function e(e){if(e.ctrlKey||!t||null==i.current)return;const r=e.deltaY,o=i.current.top>=-.5,u=i.current.bottom>=-.5,c=t.scrollHeight-t.clientHeight,l=r<0?-1:1,s=r<0?"max":"min";t.scrollHeight<=t.clientHeight||(!o&&r>0||!u&&r<0?(e.preventDefault(),n.flushSync((()=>{a((e=>e+Math[s](r,c*l)))}))):/firefox/i.test(y())&&(t.scrollTop+=r))}const t=(null==l?void 0:l.current)||o.floating.current;return r&&t?(t.addEventListener("wheel",e),requestAnimationFrame((()=>{d.current=t.scrollTop,null!=i.current&&(m.current={...i.current})})),()=>{d.current=null,m.current=null,t.removeEventListener("wheel",e)}):void 0}),[c,r,o,i,l,a]),u.useMemo((()=>c?{floating:{onKeyDown(){f.current=!0},onWheel(){f.current=!1},onPointerMove(){f.current=!1},onScroll(){const e=(null==l?void 0:l.current)||o.floating.current;if(i.current&&e&&f.current){if(null!==d.current){const t=e.scrollTop-d.current;(i.current.bottom<-.5&&t<-1||i.current.top<-.5&&t>1)&&n.flushSync((()=>a((e=>e+t))))}requestAnimationFrame((()=>{d.current=e.scrollTop}))}}}}:{}),[c,i,o,l,a])},e.useInteractions=function(e){void 0===e&&(e=[]);const t=e,n=u.useCallback((t=>Ze(t,e,"reference")),t),r=u.useCallback((t=>Ze(t,e,"floating")),t),o=u.useCallback((t=>Ze(t,e,"item")),t);return u.useMemo((()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o})),[n,r,o])},e.useListNavigation=function(e,t){let{open:r,onOpenChange:o,refs:i}=e,{listRef:l,activeIndex:s,onNavigate:a=(()=>{}),enabled:f=!0,selectedIndex:d=null,allowEscape:m=!1,loop:h=!1,nested:y=!1,rtl:b=!1,virtual:w=!1,focusItemOnOpen:k="auto",focusItemOnHover:O=!0,openOnArrowKeyDown:C=!0,disabledIndices:M,orientation:A="vertical",cols:P=1,scrollItemIntoView:D=!0}=void 0===t?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const F=p(),N=v(),j=he(a),K=u.useRef(k),H=u.useRef(null!=d?d:-1),B=u.useRef(null),V=u.useRef(!0),W=u.useRef(j),q=u.useRef(r),U=u.useRef(!1),z=L(M),X=L(r),Y=L(D),[_,G]=u.useState(),Z=u.useCallback(((e,t)=>{const n=e.current[t.current];w?G(null==n?void 0:n.id):ce(n,{preventScroll:!0,sync:!(!T()||!I())&&(De||U.current)}),requestAnimationFrame((()=>{const e=Y.current;e&&n&&!V.current&&(null==n.scrollIntoView||n.scrollIntoView("boolean"==typeof e?{block:"nearest",inline:"nearest"}:e))}))}),[w,Y]);return c((()=>{document.createElement("div").focus({get preventScroll(){return De=!0,!1}})}),[]),c((()=>{f&&(r?K.current&&null!=d&&j(d):q.current&&(H.current=-1,W.current(null)))}),[f,r,d,j]),c((()=>{if(f&&r)if(null==s){if(U.current=!1,null!=d)return;q.current&&(H.current=-1,Z(l,H)),!q.current&&K.current&&(null!=B.current||!0===K.current&&null==B.current)&&(H.current=null==B.current||Ue(B.current,A,b)||y?ze(l,z.current):Xe(l,z.current),j(H.current))}else Be(l,s)||(H.current=s,Z(l,H))}),[f,r,s,d,y,l,A,b,j,Z,z]),c((()=>{if(f&&q.current&&!r){var e,t;const n=null==N||null==(e=N.nodesRef.current.find((e=>e.id===F)))||null==(t=e.context)?void 0:t.refs.floating.current;n&&!S(n,oe(g(n)))&&n.focus({preventScroll:!0})}}),[f,r,N,F]),c((()=>{B.current=null,W.current=j,q.current=r})),u.useMemo((()=>{if(!f)return{};const e=z.current;function t(t){if(V.current=!1,U.current=!0,!X.current&&t.currentTarget===i.floating.current)return;if(y&&function(e,t,n){return We(t,n?e===Ke:e===je,e===Fe)}(t.key,A,b))return le(t),o(!1),void(E(i.domReference.current)&&i.domReference.current.focus());const n=H.current,u=ze(l,e),c=Xe(l,e);if("Home"===t.key&&(H.current=u,j(H.current)),"End"===t.key&&(H.current=c,j(H.current)),P>1){const n=H.current;if(t.key===Fe){if(le(t),-1===n)H.current=c;else if(H.current=Ve(l,{startingIndex:n,amount:P,decrement:!0,disabledIndices:e}),h&&(n-P<u||H.current<0)){const e=n%P,t=c%P,r=c-(t-e);H.current=t===e?c:t>e?r:r-P}Be(l,H.current)&&(H.current=n),j(H.current)}if(t.key===Ne&&(le(t),-1===n?H.current=u:(H.current=Ve(l,{startingIndex:n,amount:P,disabledIndices:e}),h&&n+P>c&&(H.current=Ve(l,{startingIndex:n%P-P,amount:P,disabledIndices:e}))),Be(l,H.current)&&(H.current=n),j(H.current)),"both"===A){const r=Math.floor(n/P);t.key===Ke&&(le(t),n%P!=P-1?(H.current=Ve(l,{startingIndex:n,disabledIndices:e}),h&&He(H.current,P,r)&&(H.current=Ve(l,{startingIndex:n-n%P-1,disabledIndices:e}))):h&&(H.current=Ve(l,{startingIndex:n-n%P-1,disabledIndices:e})),He(H.current,P,r)&&(H.current=n)),t.key===je&&(le(t),n%P!=0?(H.current=Ve(l,{startingIndex:n,disabledIndices:e,decrement:!0}),h&&He(H.current,P,r)&&(H.current=Ve(l,{startingIndex:n+(P-n%P),decrement:!0,disabledIndices:e}))):h&&(H.current=Ve(l,{startingIndex:n+(P-n%P),decrement:!0,disabledIndices:e})),He(H.current,P,r)&&(H.current=n));const o=Math.floor(c/P)===r;return Be(l,H.current)&&(H.current=h&&o?t.key===je?c:Ve(l,{startingIndex:n-n%P-1,disabledIndices:e}):n),void j(H.current)}}if(qe(t.key,A)){if(le(t),r&&!w&&oe(t.currentTarget.ownerDocument)===t.currentTarget)return H.current=Ue(t.key,A,b)?u:c,void j(H.current);Ue(t.key,A,b)?H.current=h?n>=c?m&&n!==l.current.length?-1:u:Ve(l,{startingIndex:n,disabledIndices:e}):Math.min(c,Ve(l,{startingIndex:n,disabledIndices:e})):H.current=h?n<=u?m&&-1!==n?l.current.length:c:Ve(l,{startingIndex:n,decrement:!0,disabledIndices:e}):Math.max(u,Ve(l,{startingIndex:n,decrement:!0,disabledIndices:e})),Be(l,H.current)?j(null):j(H.current)}}function u(e){"auto"===k&&R(e.nativeEvent)&&(K.current=!0)}return{reference:{...w&&r&&null!=s&&{"aria-activedescendant":_},onKeyDown(n){V.current=!1;const u=0===n.key.indexOf("Arrow");if(w&&r)return t(n);if(!r&&!C&&u)return;(u||"Enter"===n.key||" "===n.key||""===n.key)&&(B.current=n.key),y?function(e,t,n){return We(t,n?e===je:e===Ke,e===Ne)}(n.key,A,b)&&(le(n),r?(H.current=ze(l,e),j(H.current)):o(!0)):qe(n.key,A)&&(null!=d&&(H.current=d),le(n),!r&&C?o(!0):t(n),r&&j(H.current))},onFocus(){r&&j(null)},onPointerDown:function(e){K.current=k,"auto"===k&&x(e.nativeEvent)&&(K.current=!0)},onMouseDown:u,onClick:u},floating:{"aria-orientation":"both"===A?void 0:A,...w&&null!=s&&{"aria-activedescendant":_},onKeyDown:t,onPointerMove(){V.current=!0}},item:{onFocus(e){let{currentTarget:t}=e;const n=l.current.indexOf(t);-1!==n&&s!==n&&j(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...O&&{onMouseMove(e){let{currentTarget:t}=e;const n=t;if(n){const e=l.current.indexOf(n);-1!==e&&s!==e&&j(e)}},onPointerLeave(){var e;V.current&&(H.current=-1,Z(l,H),n.flushSync((()=>j(null))),w||null==(e=i.floating.current)||e.focus({preventScroll:!0}))}}}}}),[_,z,X,l,f,A,b,w,r,s,y,d,C,O,m,P,h,i,k,Z,j,o])},e.useMergeRefs=function(e){return u.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}),e)},e.useRole=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=void 0===t?{}:t;const c=a(),i=a();return u.useMemo((()=>{const e={id:c,role:o};return r?"tooltip"===o?{reference:{"aria-describedby":n?c:void 0},floating:e}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":"alertdialog"===o?"dialog":o,"aria-controls":n?c:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:i}},floating:{...e,..."menu"===o&&{"aria-labelledby":i}}}:{}}),[r,o,n,c,i])},e.useTransitionStatus=_e,e.useTransitionStyles=function(e,t){let{initial:n={opacity:0},open:r,close:o,common:i,duration:l=250}=void 0===t?{}:t;const s=e.placement,a=s.split("-")[0],[f,d]=u.useState({}),{isMounted:m,status:p}=_e(e,{duration:l}),v=L(n),g=L(r),h=L(o),y=L(i),b="number"==typeof l,w=(b?l:l.open)||0,E=(b?l:l.close)||0;return c((()=>{const e={side:a,placement:s},t=v.current,n=h.current,r=g.current,o=y.current,u="function"==typeof t?t(e):t,c="function"==typeof n?n(e):n,i="function"==typeof o?o(e):o,l=("function"==typeof r?r(e):r)||Object.keys(u).reduce(((e,t)=>(e[t]="",e)),{});if("initial"===p&&d((e=>({transitionProperty:e.transitionProperty,...i,...u}))),"open"===p&&d({transitionProperty:Object.keys(l).map(Ye).join(","),transitionDuration:w+"ms",...i,...l}),"close"===p){const e=c||u;d({transitionProperty:Object.keys(e).map(Ye).join(","),transitionDuration:E+"ms",...i,...e})}}),[a,s,E,h,v,g,y,w,p]),{isMounted:m,styles:f}},e.useTypeahead=function(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:l,onMatch:s=(()=>{}),enabled:a=!0,findMatch:f=null,resetMs:d=1e3,ignoreKeys:m=[],selectedIndex:p=null}=void 0===t?{listRef:{current:[]},activeIndex:null}:t;const v=u.useRef(),h=u.useRef(""),y=u.useRef(null!=(n=null!=p?p:l)?n:-1),b=u.useRef(null),E=he(s),R=L(f),x=L(m);return c((()=>{r&&(clearTimeout(v.current),b.current=null,h.current="")}),[r]),c((()=>{var e;r&&""===h.current&&(y.current=null!=(e=null!=p?p:l)?e:-1)}),[r,p,l]),u.useMemo((()=>{if(!a)return{};function e(e){const t=C(e.nativeEvent);if(w(t)&&oe(g(t))!==e.currentTarget&&t.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==e.currentTarget)return;h.current.length>0&&" "!==h.current[0]&&(o.current.typing=!0," "===e.key&&le(e));const n=i.current;if(null==n||x.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;n.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&h.current===e.key&&(h.current="",y.current=b.current),h.current+=e.key,clearTimeout(v.current),v.current=setTimeout((()=>{h.current="",y.current=b.current,o.current.typing=!1}),d);const r=y.current,u=[...n.slice((r||0)+1),...n.slice(0,(r||0)+1)],c=R.current?R.current(u,h.current):u.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(h.current.toLocaleLowerCase())))),l=c?n.indexOf(c):-1;-1!==l&&(E(l),b.current=l)}return{reference:{onKeyDown:e},floating:{onKeyDown:e}}}),[a,o,i,d,x,R,E])},Object.keys(r).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})),Object.defineProperty(e,"__esModule",{value:!0})}));
